<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.1" /><meta property="og:title" content="Solving Location Routing Problem (LRP) with Integer Linear Programming using Python MIP" /><meta property="og:locale" content="en" /><meta name="description" content="복영규의 블로그" /><meta property="og:description" content="복영규의 블로그" /><link rel="canonical" href="https://duckbankbok.github.io/posts/Solving-Location-Routing-Problem-(LRP)-with-Integer-Linear-Programming-using-Python-MIP/" /><meta property="og:url" content="https://duckbankbok.github.io/posts/Solving-Location-Routing-Problem-(LRP)-with-Integer-Linear-Programming-using-Python-MIP/" /><meta property="og:site_name" content="뀨로그 (GGyulog)" /><meta property="og:image" content="https://user-images.githubusercontent.com/64826387/173565304-f75f8e99-b2d4-4aab-b85f-627f7398ff39.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-06-06T17:00:00+09:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://user-images.githubusercontent.com/64826387/173565304-f75f8e99-b2d4-4aab-b85f-627f7398ff39.png" /><meta property="twitter:title" content="Solving Location Routing Problem (LRP) with Integer Linear Programming using Python MIP" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2022-06-06T17:00:00+09:00","datePublished":"2022-06-06T17:00:00+09:00","description":"복영규의 블로그","headline":"Solving Location Routing Problem (LRP) with Integer Linear Programming using Python MIP","image":"https://user-images.githubusercontent.com/64826387/173565304-f75f8e99-b2d4-4aab-b85f-627f7398ff39.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://duckbankbok.github.io/posts/Solving-Location-Routing-Problem-(LRP)-with-Integer-Linear-Programming-using-Python-MIP/"},"url":"https://duckbankbok.github.io/posts/Solving-Location-Routing-Problem-(LRP)-with-Integer-Linear-Programming-using-Python-MIP/"}</script><title>Solving Location Routing Problem (LRP) with Integer Linear Programming using Python MIP | 뀨로그 (GGyulog)</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="뀨로그 (GGyulog)"><meta name="application-name" content="뀨로그 (GGyulog)"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7693574899621117" crossorigin="anonymous"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/icon.jpg" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title"> <a href="/">뀨로그 (GGyulog)</a></div><div class="site-subtitle font-italic">Younggyu's blog</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/duckbankbok" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://www.instagram.com/yg_bok/" aria-label="instagram" target="_blank" rel="noopener"> <i class="fab fa-instagram"></i> </a> <a href="https://www.linkedin.com/in/%EB%B3%B5%EC%98%81%EA%B7%9C/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Solving Location Routing Problem (LRP) with Integer Linear Programming using Python MIP</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><div onclick="handleAdClick(event)"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7693574899621117" crossorigin="anonymous"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7693574899621117" data-ad-slot="1580778312" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></div><h1 data-toc-skip>Solving Location Routing Problem (LRP) with Integer Linear Programming using Python MIP</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1654502400" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 6, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/duckbankbok">복영규(Younggyu Bok)</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1542 words"> <em>8 min</em> read</span></div></div></div><div class="post-content"><p><img data-src="https://user-images.githubusercontent.com/64826387/172050237-c0986136-7bd9-40d0-bd63-f714a5fae578.png" alt="lrp" data-proofer-ignore></p><h2 id="lrp"><span class="mr-2">LRP</span><a href="#lrp" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Location Routing Problem (LRP) is a combination problem of Location Allocation Problem and Vehicle Routing Problem. The goal of the LRP is determining the location of depots and the routes of the vehicles for serving the customers which minimize the total cost. This post solves the LRP with Integer Linear Programming using Python.</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kn">from</span> <span class="nn">mip</span> <span class="kn">import</span> <span class="n">Model</span><span class="p">,</span> <span class="n">xsum</span><span class="p">,</span> <span class="n">minimize</span><span class="p">,</span> <span class="n">BINARY</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">itertools</span>
</pre></table></code></div></div><h2 id="problem-definition"><span class="mr-2">Problem definition</span><a href="#problem-definition" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>There are randomly generated 15 nodes comprised with 5 depot nodes and 10 customer nodes. The numbers in the list represent x-coordinate, y-coordinate, demand, capacity and opening cost. Note that the depot nodes don’t have any demand and also the customer nodes don’t have any capacity and opening cost. The opening cost of all depot is 100. The fixed cost for a vehicle is 10. The traveling cost is Euclidean distance of route.</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="c1"># [geo_x, geo_y, demand, capacity, opening cost]
</span><span class="n">nodes</span> <span class="o">=</span> <span class="p">[[</span> <span class="mf">69.7234</span><span class="p">,</span>  <span class="mf">20.2083</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span> <span class="mf">101.0000</span><span class="p">,</span> <span class="mf">100.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">30.2384</span><span class="p">,</span>  <span class="mf">43.5044</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span> <span class="mf">101.0000</span><span class="p">,</span> <span class="mf">100.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">61.9749</span><span class="p">,</span>   <span class="mf">6.9667</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span> <span class="mf">101.0000</span><span class="p">,</span> <span class="mf">100.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">99.0928</span><span class="p">,</span>  <span class="mf">30.2991</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span> <span class="mf">101.0000</span><span class="p">,</span> <span class="mf">100.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">82.4491</span><span class="p">,</span>  <span class="mf">39.9930</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span> <span class="mf">101.0000</span><span class="p">,</span> <span class="mf">100.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">28.8304</span><span class="p">,</span>  <span class="mf">62.9077</span><span class="p">,</span>   <span class="mf">9.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">47.4790</span><span class="p">,</span>  <span class="mf">73.0949</span><span class="p">,</span>  <span class="mf">18.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">82.1459</span><span class="p">,</span>  <span class="mf">44.1756</span><span class="p">,</span>   <span class="mf">7.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">21.9554</span><span class="p">,</span>  <span class="mf">60.2978</span><span class="p">,</span>   <span class="mf">3.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">47.1047</span><span class="p">,</span>   <span class="mf">8.9509</span><span class="p">,</span>   <span class="mf">3.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">72.2547</span><span class="p">,</span>  <span class="mf">29.8323</span><span class="p">,</span>  <span class="mf">19.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">67.7186</span><span class="p">,</span>  <span class="mf">84.6980</span><span class="p">,</span>  <span class="mf">14.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">74.1557</span><span class="p">,</span>  <span class="mf">69.2824</span><span class="p">,</span>   <span class="mf">9.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">20.8579</span><span class="p">,</span>  <span class="mf">59.8875</span><span class="p">,</span>   <span class="mf">1.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">],</span>
         <span class="p">[</span> <span class="mf">82.8111</span><span class="p">,</span>  <span class="mf">10.4402</span><span class="p">,</span>  <span class="mf">18.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">,</span>   <span class="mf">0.0000</span><span class="p">]]</span>
</pre></table></code></div></div><h3 id="set"><span class="mr-2">Set</span><a href="#set" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><blockquote><p>$I$ represents list of the depot nodes.</p><p>$J$ represents list of the customer nodes.</p><p>$V$ represents list of all nodes.</p><p>$K$ represents list of vehicles.</p><p>$S$ represents list of all subset of $J$ excepting null set.</p></blockquote><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre><span class="n">geo</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">depot</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">customer</span> <span class="o">=</span> <span class="p">[]</span>
<span class="n">distance</span> <span class="o">=</span> <span class="p">{}</span>

<span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">nodes</span><span class="p">:</span>
    <span class="n">geo</span><span class="p">.</span><span class="n">append</span><span class="p">((</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="k">if</span> <span class="n">node</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">depot</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">customer</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">node</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">geo</span><span class="p">)):</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">geo</span><span class="p">)):</span>
        <span class="n">distance</span><span class="p">[(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)]</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">linalg</span><span class="p">.</span><span class="n">norm</span><span class="p">(</span><span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">(</span><span class="n">geo</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="o">-</span><span class="n">np</span><span class="p">.</span><span class="n">array</span><span class="p">(</span><span class="n">geo</span><span class="p">[</span><span class="n">j</span><span class="p">]))</span>

<span class="n">I</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">depot</span><span class="p">)))</span>
<span class="n">J</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">depot</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">customer</span><span class="p">)</span><span class="o">+</span><span class="nb">len</span><span class="p">(</span><span class="n">depot</span><span class="p">)))</span>
<span class="n">V</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">I</span><span class="o">+</span><span class="n">J</span><span class="p">)</span>
<span class="n">K</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>

<span class="k">print</span><span class="p">(</span><span class="n">I</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">K</span><span class="p">)</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>[0, 1, 2, 3, 4]
[5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
[0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14]
[1, 2, 3, 4, 5]
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">subset</span><span class="p">(</span><span class="n">node_list</span><span class="p">):</span>
    <span class="n">subset_list</span> <span class="o">=</span> <span class="p">[]</span>

    <span class="k">for</span> <span class="nb">iter</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">node_list</span><span class="p">)):</span>
        <span class="k">if</span> <span class="nb">iter</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">iter_subset_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="p">.</span><span class="n">combinations</span><span class="p">(</span><span class="n">node_list</span><span class="p">,</span> <span class="nb">iter</span><span class="p">))</span>
            <span class="k">for</span> <span class="n">sub</span> <span class="ow">in</span> <span class="n">iter_subset_list</span><span class="p">:</span>
                <span class="n">subset_list</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">sub</span><span class="p">))</span>
    
    <span class="k">return</span> <span class="n">subset_list</span>

<span class="n">S</span> <span class="o">=</span> <span class="n">subset</span><span class="p">(</span><span class="n">J</span><span class="p">)</span>
</pre></table></code></div></div><p>Following code shows how nodes are distributed.</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
</pre><td class="rouge-code"><pre><span class="n">depot_x</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">depot</span><span class="p">]</span>
<span class="n">depot_y</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">depot</span><span class="p">]</span>
<span class="n">customer_x</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">customer</span><span class="p">]</span>
<span class="n">customer_y</span> <span class="o">=</span> <span class="p">[</span><span class="n">node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">node</span> <span class="ow">in</span> <span class="n">customer</span><span class="p">]</span>
<span class="n">depot_number</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">customer_number</span> <span class="o">=</span> <span class="mi">5</span>

<span class="n">plt</span><span class="p">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">depot_x</span><span class="p">,</span> <span class="n">depot_y</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">"red"</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">"*"</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">"depot"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">depot_node</span> <span class="ow">in</span> <span class="n">depot</span><span class="p">:</span>
    <span class="n">plt</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">depot_node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">depot_node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">depot_number</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
    <span class="n">depot_number</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">plt</span><span class="p">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">customer_x</span><span class="p">,</span> <span class="n">customer_y</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="s">"green"</span><span class="p">,</span> <span class="n">marker</span><span class="o">=</span><span class="s">"^"</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s">"customer"</span><span class="p">)</span>
<span class="k">for</span> <span class="n">customer_node</span> <span class="ow">in</span> <span class="n">customer</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">customer_number</span> <span class="o">&gt;=</span> <span class="mi">10</span><span class="p">:</span>
        <span class="n">plt</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">customer_node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">customer_node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">customer_number</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">customer_number</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">plt</span><span class="p">.</span><span class="n">text</span><span class="p">(</span><span class="n">customer_node</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">-</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">customer_node</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span><span class="p">,</span> <span class="nb">str</span><span class="p">(</span><span class="n">customer_number</span><span class="p">),</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
        <span class="n">customer_number</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">plt</span><span class="p">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="p">.</span><span class="n">show</span><span class="p">()</span>
</pre></table></code></div></div><p><img data-src="https://user-images.githubusercontent.com/64826387/173565259-13daa69c-29d1-4d75-8f87-0f3775e75e35.png" alt="output_3_0" data-proofer-ignore></p><p>Following mathematical formulation is referred to <a href="#vincent_et_al">Vincent et al. (2010)</a>.</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="n">m</span> <span class="o">=</span> <span class="n">Model</span><span class="p">()</span>
</pre></table></code></div></div><h3 id="variables-and-parameters"><span class="mr-2">Variables and Parameters</span><a href="#variables-and-parameters" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="decision-variable"><span class="mr-2">Decision variable</span><a href="#decision-variable" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p>$x_{ijk}$ is a binary variable whether the node $i$ and the node $j$ are directly connected by vehicle $k$.</p><p>$y_i$ is a binary variable whether the depot node $i$ opens.</p><p>$f_{ij}$ is a binary variable whether the customer node $j$ is assigned to the depot node $i$.</p><p>$v_k$ is a binary variable whether the vehicle $k$ is used.</p></blockquote><h4 id="parameter"><span class="mr-2">Parameter</span><a href="#parameter" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><blockquote><p>$O_i$ is opening cost of the depot node $i$.</p><p>$c_{ij}$ is traveling cost (in this post, Euclidean distance) when traverse from the node $i$ to the node $j$.</p><p>$FC$ is fixed cost of vehicle (in this post, 10).</p><p>$d_j$ is demand of the customer node $j$.</p><p>$Q$ is capacity of vehicle (in this post, 100).</p><p>$W_i$ is capacity of the depot node $i$.</p></blockquote><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="c1"># Variables
</span><span class="n">xijk</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span> <span class="n">m</span><span class="p">.</span><span class="n">add_var</span><span class="p">(</span><span class="n">var_type</span><span class="o">=</span><span class="n">BINARY</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">"x_%s,%s,%s"</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">V</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">V</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span>
<span class="p">}</span>

<span class="n">yi</span> <span class="o">=</span><span class="p">{</span>
    <span class="p">(</span><span class="n">i</span><span class="p">):</span> <span class="n">m</span><span class="p">.</span><span class="n">add_var</span><span class="p">(</span><span class="n">var_type</span><span class="o">=</span><span class="n">BINARY</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">"y_%s"</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span>
<span class="p">}</span>

<span class="n">fij</span> <span class="o">=</span><span class="p">{</span>
    <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">):</span> <span class="n">m</span><span class="p">.</span><span class="n">add_var</span><span class="p">(</span><span class="n">var_type</span><span class="o">=</span><span class="n">BINARY</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">"f_%s,%s"</span> <span class="o">%</span> <span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">J</span>
<span class="p">}</span>

<span class="n">vk</span> <span class="o">=</span><span class="p">{</span>
    <span class="p">(</span><span class="n">k</span><span class="p">):</span> <span class="n">m</span><span class="p">.</span><span class="n">add_var</span><span class="p">(</span><span class="n">var_type</span><span class="o">=</span><span class="n">BINARY</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">"v_%s"</span> <span class="o">%</span> <span class="p">(</span><span class="n">k</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span>
<span class="p">}</span>
</pre></table></code></div></div><h2 id="integer-linear-programming"><span class="mr-2">Integer Linear Programming</span><a href="#integer-linear-programming" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><h3 id="mathematical-formulation"><span class="mr-2">Mathematical formulation</span><a href="#mathematical-formulation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><blockquote class="prompt-info"><div><p>min $z = \sum_{i \in I} O_i y_i + \sum_{i \in V} \sum_{j \in V} \sum_{k \in K} c_{ij} x_{ijk} + \sum_{k \in K} FC v_k$</p></div></blockquote><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="c1"># Objective function
</span><span class="n">m</span><span class="p">.</span><span class="n">objective</span> <span class="o">=</span> <span class="n">minimize</span><span class="p">(</span>
    <span class="n">xsum</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">4</span><span class="p">]</span><span class="o">*</span><span class="n">yi</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span><span class="p">)</span> <span class="o">+</span>
    <span class="n">xsum</span><span class="p">(</span><span class="n">distance</span><span class="p">[(</span><span class="n">i</span><span class="p">,</span><span class="n">j</span><span class="p">)]</span><span class="o">*</span><span class="n">xijk</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">V</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">V</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">)</span> <span class="o">+</span>
    <span class="n">xsum</span><span class="p">(</span><span class="n">vk</span><span class="p">[</span><span class="n">k</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">)</span>
<span class="p">)</span>
</pre></table></code></div></div><blockquote class="prompt-info"><div><p>subject to</p><p>$\sum_{i \in V} \sum_{k \in K} x_{ijk} = 1 \quad \forall j \in J$</p><p>$\sum_{i \in V} \sum_{j \in J} d_j x_{ijk} \le Q \quad \forall k \in K$</p><p>$\sum_{j \in J} d_j f_{ij} \le W_i y_i \quad \forall i \in I$</p><p>$\sum_{j \in V}(x_{ijk} - x_{jik}) = 0 \quad \forall i \in V, \forall k \in K$</p><p>$\sum_{i \in I} \sum_{j \in J} x_{ijk} \le 1 \quad \forall k \in K$</p><p>$\sum_{i \in I} y_i \ge 1$</p><p>$\sum_{i \in I} \sum_{j \in J} f_{ij} = \left\vert J \right\vert$</p><p>$\sum_{i \in s} \sum_{j \in s} x_{ijk} \le \left\vert s \right\vert - 1 \quad \forall s \in S, \forall k \in K$</p><p>$\sum_{u \in J} x_{iuk} + \sum_{u \in V \backslash \lbrace j \rbrace } x_{ujk} \le 1 + f_{ij} \quad \forall i \in I, \forall j \in J, \forall k \in K$</p><p>$Mv_k \ge \sum_{i \in V} \sum_{j \in V} x_{ijk} \quad \forall k \in K$</p></div></blockquote><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
</pre><td class="rouge-code"><pre><span class="c1"># Constraint 1
</span><span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">J</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">+=</span> <span class="p">(</span><span class="n">xsum</span><span class="p">(</span><span class="n">xijk</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">V</span> <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Constraint 2
</span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">+=</span> <span class="p">(</span><span class="n">xsum</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">xijk</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">V</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">J</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">100</span><span class="p">)</span>

<span class="c1"># Constraint 3
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">+=</span> <span class="p">(</span><span class="n">xsum</span><span class="p">(</span><span class="n">nodes</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">*</span> <span class="n">fij</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">J</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="n">nodes</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">3</span><span class="p">]</span> <span class="o">*</span> <span class="n">yi</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>

<span class="c1"># Constraint 4
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">V</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">:</span>
        <span class="n">m</span> <span class="o">+=</span> <span class="p">(</span><span class="n">xsum</span><span class="p">(</span><span class="n">xijk</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">V</span><span class="p">)</span> <span class="o">-</span> <span class="n">xsum</span><span class="p">(</span><span class="n">xijk</span><span class="p">[</span><span class="n">j</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">V</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span>

<span class="c1"># Constraint 5
</span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">+=</span> <span class="p">(</span><span class="n">xsum</span><span class="p">(</span><span class="n">xijk</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">J</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Constraint 6
</span><span class="n">m</span> <span class="o">+=</span> <span class="p">(</span><span class="n">xsum</span><span class="p">(</span><span class="n">yi</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Constraint 7
</span><span class="n">m</span> <span class="o">+=</span> <span class="p">(</span><span class="n">xsum</span><span class="p">(</span><span class="n">fij</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">J</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="n">J</span><span class="p">))</span>

<span class="c1"># Constraint 8
</span><span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">S</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">:</span>
        <span class="n">m</span> <span class="o">+=</span> <span class="p">(</span><span class="n">xsum</span><span class="p">(</span><span class="n">xijk</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">s</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">s</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span>

<span class="c1"># Constraint 9
</span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">J</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">:</span>
            <span class="n">U</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">V</span><span class="p">)</span>
            <span class="n">U</span><span class="p">.</span><span class="n">remove</span><span class="p">(</span><span class="n">j</span><span class="p">)</span>
            <span class="n">m</span> <span class="o">+=</span> <span class="p">(</span><span class="n">xsum</span><span class="p">(</span><span class="n">xijk</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">u</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">J</span><span class="p">)</span> <span class="o">+</span> <span class="n">xsum</span><span class="p">(</span><span class="n">xijk</span><span class="p">[</span><span class="n">u</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">U</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">fij</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">])</span>

<span class="c1"># Constraint 10
</span><span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">:</span>
    <span class="n">m</span> <span class="o">+=</span> <span class="p">(</span><span class="n">vk</span><span class="p">[</span><span class="n">k</span><span class="p">]</span> <span class="o">*</span> <span class="mi">10000000</span> <span class="o">&gt;=</span> <span class="n">xsum</span><span class="p">(</span><span class="n">xijk</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">V</span> <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">V</span><span class="p">))</span>
</pre></table></code></div></div><h2 id="result"><span class="mr-2">Result</span><a href="#result" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">m</span><span class="p">.</span><span class="n">write</span><span class="p">(</span><span class="s">'model.lp'</span><span class="p">)</span>
<span class="n">m</span><span class="p">.</span><span class="n">optimize</span><span class="p">()</span>
</pre></table></code></div></div><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre><span class="n">solution</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">V</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">V</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">:</span>
            <span class="n">solution</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">xijk</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">].</span><span class="n">name</span><span class="p">,</span> <span class="n">xijk</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">k</span><span class="p">].</span><span class="n">x</span><span class="p">])</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span><span class="p">:</span>
    <span class="n">solution</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">yi</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">,</span> <span class="n">yi</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">x</span><span class="p">])</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">I</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="n">J</span><span class="p">:</span>
        <span class="n">solution</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">fij</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">].</span><span class="n">name</span><span class="p">,</span> <span class="n">fij</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="n">j</span><span class="p">].</span><span class="n">x</span><span class="p">])</span>
        
<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">K</span><span class="p">:</span>
    <span class="n">solution</span><span class="p">.</span><span class="n">append</span><span class="p">([</span><span class="n">vk</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">name</span><span class="p">,</span> <span class="n">vk</span><span class="p">[</span><span class="n">k</span><span class="p">].</span><span class="n">x</span><span class="p">])</span>

<span class="n">solution</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">DataFrame</span><span class="p">(</span>
    <span class="n">solution</span><span class="p">,</span>
    <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">'variable'</span><span class="p">,</span> <span class="s">'solution'</span><span class="p">])</span>
<span class="n">solution</span><span class="p">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s">'solution.csv'</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="bp">False</span><span class="p">)</span>
<span class="n">m</span><span class="p">.</span><span class="n">objective_value</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre>358.1495618628307
</pre></table></code></div></div><p>According to the model, the objective value (the total cost) is 358.15.</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="n">solution</span> <span class="o">=</span> <span class="n">pd</span><span class="p">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'solution.csv'</span><span class="p">)</span>
<span class="n">solution</span><span class="p">[</span><span class="n">solution</span><span class="p">[</span><span class="s">'solution'</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">]</span>
</pre></table></code></div></div><div><style scoped=""> .dataframe tbody tr th:only-of-type { vertical-align: middle; } .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; }</style><div class="table-wrapper"><table border="1" class="dataframe"><thead><tr style="text-align: right;"><th><th>variable<th>solution<tbody><tr><th>338<td>x_4,7,4<td>1.0<tr><th>361<td>x_4,12,2<td>1.0<tr><th>416<td>x_5,8,2<td>1.0<tr><th>476<td>x_6,5,2<td>1.0<tr><th>548<td>x_7,4,4<td>1.0<tr><th>666<td>x_8,13,2<td>1.0<tr><th>746<td>x_9,14,2<td>1.0<tr><th>771<td>x_10,4,2<td>1.0<tr><th>856<td>x_11,6,2<td>1.0<tr><th>956<td>x_12,11,2<td>1.0<tr><th>1021<td>x_13,9,2<td>1.0<tr><th>1101<td>x_14,10,2<td>1.0<tr><th>1129<td>y_4<td>1.0<tr><th>1170<td>f_4,5<td>1.0<tr><th>1171<td>f_4,6<td>1.0<tr><th>1172<td>f_4,7<td>1.0<tr><th>1173<td>f_4,8<td>1.0<tr><th>1174<td>f_4,9<td>1.0<tr><th>1175<td>f_4,10<td>1.0<tr><th>1176<td>f_4,11<td>1.0<tr><th>1177<td>f_4,12<td>1.0<tr><th>1178<td>f_4,13<td>1.0<tr><th>1179<td>f_4,14<td>1.0<tr><th>1181<td>v_2<td>1.0<tr><th>1183<td>v_4<td>1.0</table></div></div><p><br /> According to the result, the routes are as follow:</p><p><img data-src="https://user-images.githubusercontent.com/64826387/173565304-f75f8e99-b2d4-4aab-b85f-627f7398ff39.png" alt="output_12_0" data-proofer-ignore></p><h2 id="reference"><span class="mr-2">Reference</span><a href="#reference" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li><p id="vincent_et_al">Vincent F. Yu, Shih-Wei Lin, Wenyih Lee, Ching-Jung Ting, A simulated annealing heuristic for the capacitated location routing problem, Computers &amp; Industrial Engineering, Volume 58, Issue 2, 2010, Pages 288-299, ISSN 0360-8352, <a href="https://doi.org/10.1016/j.cie.2009.10.007" target="_blank">https://doi.org/10.1016/j.cie.2009.10.007</a>.</p></ul></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/or/'>OR</a>, <a href='/categories/lrp/'>LRP</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/or/" class="post-tag no-text-decoration" >or</a> <a href="/tags/lrp/" class="post-tag no-text-decoration" >lrp</a> <a href="/tags/lp/" class="post-tag no-text-decoration" >lp</a> <a href="/tags/mip/" class="post-tag no-text-decoration" >mip</a> <a href="/tags/python/" class="post-tag no-text-decoration" >python</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Solving+Location+Routing+Problem+%28LRP%29+with+Integer+Linear+Programming+using+Python+MIP+-+%EB%80%A8%EB%A1%9C%EA%B7%B8+%28GGyulog%29&url=https%3A%2F%2Fduckbankbok.github.io%2Fposts%2FSolving-Location-Routing-Problem-%28LRP%29-with-Integer-Linear-Programming-using-Python-MIP%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Solving+Location+Routing+Problem+%28LRP%29+with+Integer+Linear+Programming+using+Python+MIP+-+%EB%80%A8%EB%A1%9C%EA%B7%B8+%28GGyulog%29&u=https%3A%2F%2Fduckbankbok.github.io%2Fposts%2FSolving-Location-Routing-Problem-%28LRP%29-with-Integer-Linear-Programming-using-Python-MIP%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://www.linkedin.com/sharing/share-offsite/?url=https%3A%2F%2Fduckbankbok.github.io%2Fposts%2FSolving-Location-Routing-Problem-%28LRP%29-with-Integer-Linear-Programming-using-Python-MIP%2F" data-toggle="tooltip" data-placement="top" title="Linkedin" target="_blank" rel="noopener" aria-label="Linkedin"> <i class="fa-fw fab fa-linkedin"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div><div onclick="handleAdClick(event)"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7693574899621117" crossorigin="anonymous"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7693574899621117" data-ad-slot="3690161860" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></div><script> // 광고 클릭을 처리하는 함수 function handleAdClick(event) { const maxClicks = 3; // 사용자가 허용된 최대 클릭 횟수 const clickInterval = 24 * 60 * 60 * 1000; // 클릭 기록을 유지할 시간 (24시간) // 현재 시간 const now = new Date().getTime(); // 로컬 스토리지에서 클릭 기록을 가져옴 let adClicks = JSON.parse(localStorage.getItem('adClicks')) || []; // 유효하지 않은 기록 제거 adClicks = adClicks.filter(clickTime => now - clickTime < clickInterval); if (adClicks.length >= maxClicks) { alert('Invalid traffic detected.'); event.preventDefault(); return false; } else { // 현재 클릭 시간 추가 adClicks.push(now); localStorage.setItem('adClicks', JSON.stringify(adClicks)); } } </script></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/%EB%A9%94%EC%9D%B4%ED%94%8C%EC%8A%A4%ED%86%A0%EB%A6%AC-%EC%9B%94%EB%93%9C-%EB%B0%B0%EC%A7%80-%EC%B6%94%EA%B0%80%ED%95%98%EA%B8%B0/">메이플스토리 월드 | 배지 추가하기</a><li><a href="/posts/%EC%A1%B0%EC%BD%94%EB%94%A9-%EC%9B%B9%EA%B0%9C%EB%B0%9C-5%EC%A3%BC-%EC%99%84%EC%84%B1-3%EC%A3%BC%EC%B0%A8-%EB%A6%AC%EB%B7%B0(1)/">조코딩 웹개발 5주 완성 3주차 리뷰(1)_JavaScript</a><li><a href="/posts/%EC%9B%B9-%EA%B8%B0%EB%B0%98-%EC%98%A4%EB%8D%B8%EB%A1%9C-%EA%B2%8C%EC%9E%84-%EB%A7%8C%EB%93%A4%EA%B8%B0/">웹 기반(HTML, CSS, JavaScript) 게임 만들기 - Othello</a><li><a href="/posts/%EC%9B%B9-%EA%B8%B0%EB%B0%98-rpg-%EA%B2%8C%EC%9E%84-%EB%A7%8C%EB%93%A4%EA%B8%B0/">웹 기반(HTML, CSS, JavaScript) RPG 만들기 - Life of YOUNGGYU</a><li><a href="/posts/solving-traveling-salesman-problem-using-genetic-algorithm-in-python/">Solving Traveling Salesman Problem (TSP) using Genetic Algorithm (GA) in Python</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%EB%A6%AC%EB%B7%B0/">리뷰</a> <a class="post-tag" href="/tags/%EC%9B%B9%EA%B0%9C%EB%B0%9C-5%EC%A3%BC-%EC%99%84%EC%84%B1/">웹개발 5주 완성</a> <a class="post-tag" href="/tags/%EC%A1%B0%EC%BD%94%EB%94%A9/">조코딩</a> <a class="post-tag" href="/tags/or/">or</a> <a class="post-tag" href="/tags/2%EC%A3%BC%EC%B0%A8/">2주차</a> <a class="post-tag" href="/tags/3%EC%A3%BC%EC%B0%A8/">3주차</a> <a class="post-tag" href="/tags/lua/">lua</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/1%EC%A3%BC%EC%B0%A8/">1주차</a> <a class="post-tag" href="/tags/4%EC%A3%BC%EC%B0%A8/">4주차</a></div></div></div><div style="margin-bottom: 4rem" onclick="handleAdClick(event)"> <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7693574899621117" crossorigin="anonymous"></script> <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-7693574899621117" data-ad-slot="5334701432" data-ad-format="auto" data-full-width-responsive="true"></ins> <script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4 mt-5"><div id="related-posts" class="mb-2 mb-sm-4"><h3 class="pt-2 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/solving-traveling-salesman-problem-using-genetic-algorithm-in-python/"><div class="card-body"> <em class="small" data-ts="1685250000" data-df="ll" > May 28, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Solving Traveling Salesman Problem (TSP) using Genetic Algorithm (GA) in Python</h3><div class="text-muted small"><p> Genetic Algorithm is a heuristic algorithm widely used in solving combinatorial optimization problems. One such problem is the Traveling Salesman Problem (TSP), which asks for the shortest route a ...</p></div></div></a></div><div class="card"> <a href="/posts/nsga2/"><div class="card-body"> <em class="small" data-ts="1688050800" data-df="ll" > Jun 30, 2023 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>NSGA-II - A Fast, Elitist Algorithm for Multi-objecitve Optimization Problem</h3><div class="text-muted small"><p> Introduction Welcome to this blog post on Non-dominated sorting genetic algorithm II (NSGA-II), a fast and elitist algorithm for multi-objective optimization problems. In the field of optimization...</p></div></div></a></div><div class="card"> <a href="/posts/%EB%A9%94%EC%9D%B4%ED%94%8C%EC%8A%A4%ED%86%A0%EB%A6%AC-%EC%9B%94%EB%93%9C-%EB%9E%AD%ED%82%B9-%EC%8B%9C%EC%8A%A4%ED%85%9C-%EA%B5%AC%ED%98%84%ED%95%98%EA%B8%B0/"><div class="card-body"> <em class="small" data-ts="1724479200" data-df="ll" > Aug 24, 2024 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>메이플스토리 월드 | 랭킹 시스템 구현하기</h3><div class="text-muted small"><p> 랭킹 시스템은 RPG뿐만 아니라 MOBA, RTS 등 다양한 장르에서 사용되며, 게임을 플레이하는 근본적인 목적을 유저들에게 부여합니다. 이번 포스팅에서는 메이플스토리 월드에서 랭킹 시스템을 구현해 보겠습니다. 실습 월드는 카드 짝 맞추기 리메이크이며 코드는 공식 문서와 크리에이터 포럼을 참조하여 작성했습니다. 랭킹 시스템을 구현하기 위해서...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"><div class="btn btn-outline-primary disabled" prompt="Older"><p>-</p></div><a href="/posts/%EC%A1%B0%EC%BD%94%EB%94%A9-%EC%9B%B9%EA%B0%9C%EB%B0%9C-5%EC%A3%BC-%EC%99%84%EC%84%B1-1%EC%A3%BC%EC%B0%A8-%EB%A6%AC%EB%B7%B0/" class="btn btn-outline-primary" prompt="Newer"><p>조코딩 웹개발 5주 완성 1주차 리뷰_기본 개념, HTML, Deploy</p></a></div><script type="text/javascript"> $(function () { const origin = "https://giscus.app"; const iframe = "iframe.giscus-frame"; const lightTheme = "light"; const darkTheme = "dark_dimmed"; let initTheme = lightTheme; if ($("html[data-mode=dark]").length > 0 || ($("html[data-mode]").length == 0 && window.matchMedia("(prefers-color-scheme: dark)").matches)) { initTheme = darkTheme; } let giscusAttributes = { "src": "https://giscus.app/client.js", "data-repo": "duckbankbok/duckbankbok.github.io", "data-repo-id": "R_kgDOHdHcGA", "data-category": "General", "data-category-id": "DIC_kwDOHdHcGM4CPfs1", "data-mapping": "pathname", "data-reactions-enabled": "1", "data-emit-metadata": "0", "data-theme": initTheme, "data-input-position": "bottom", "data-lang": "", "crossorigin": "anonymous", "async": "" }; let giscusScript = document.createElement("script"); Object.entries(giscusAttributes).forEach(([key, value]) => giscusScript.setAttribute(key, value)); document.getElementById("tail-wrapper").appendChild(giscusScript); addEventListener("message", (event) => { if (event.source === window && event.data && event.data.direction === ModeToggle.ID) { /* global theme mode changed */ const mode = event.data.message; const theme = (mode === ModeToggle.DARK_MODE ? darkTheme : lightTheme); const message = { setConfig: { theme: theme } }; const giscus = document.querySelector(iframe).contentWindow; giscus.postMessage({ giscus: message }, origin); } }); }); </script></div></div></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/%EB%A6%AC%EB%B7%B0/">리뷰</a> <a class="post-tag" href="/tags/%EC%9B%B9%EA%B0%9C%EB%B0%9C-5%EC%A3%BC-%EC%99%84%EC%84%B1/">웹개발 5주 완성</a> <a class="post-tag" href="/tags/%EC%A1%B0%EC%BD%94%EB%94%A9/">조코딩</a> <a class="post-tag" href="/tags/or/">or</a> <a class="post-tag" href="/tags/2%EC%A3%BC%EC%B0%A8/">2주차</a> <a class="post-tag" href="/tags/3%EC%A3%BC%EC%B0%A8/">3주차</a> <a class="post-tag" href="/tags/lua/">lua</a> <a class="post-tag" href="/tags/python/">python</a> <a class="post-tag" href="/tags/1%EC%A3%BC%EC%B0%A8/">1주차</a> <a class="post-tag" href="/tags/4%EC%A3%BC%EC%B0%A8/">4주차</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><footer><div class="container pl-lg-4 pr-lg-4"><div class="d-flex justify-content-between align-items-center text-muted ml-md-3 mr-md-3"><div class="footer-left"><p class="mb-0"> © 2025 <a href="https://github.com/duckbankbok">복영규(Younggyu Bok)</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></div></footer><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script> /* see: <https://docs.mathjax.org/en/latest/options/input/tex.html#tex-options> */ MathJax = { tex: { inlineMath: [ /* start/end delimiter pairs for in-line math */ ['$','$'], ['\\(','\\)'] ], displayMath: [ /* start/end delimiter pairs for display math */ ['$$', '$$'], ['\\[', '\\]'] ] } }; </script> <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"> </script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/unregister.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=G-T1XDWH4GQJ"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-T1XDWH4GQJ'); }); </script>
